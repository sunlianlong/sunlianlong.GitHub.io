(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{682:function(e,_,t){"use strict";t.r(_);var v=t(3),a=Object(v.a)({},(function(){var e=this,_=e.$createElement,t=e._self._c||_;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h2",{attrs:{id:"_1-获取-key"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-获取-key"}},[e._v("#")]),e._v(" 1. 获取 key")]),e._v(" "),t("p",[e._v("在 "),t("code",[e._v("readText.js")]),e._v(" 中更改 voice 为 voiceBd 或者 voiceAli ，切换接口平台。")]),e._v(" "),t("p",[t("strong",[e._v("但切记，因为接口有并发限制，务必要到相应的平台去注册自己的 key。方法如下：")])]),e._v(" "),t("h4",{attrs:{id:"百度-ai"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#百度-ai"}},[e._v("#")]),e._v(" 百度 AI")]),e._v(" "),t("p",[e._v("注册百度 AI。")]),e._v(" "),t("p",[t("a",{attrs:{href:"https://ai.baidu.com/ai-doc/SPEECH/jk38y8gno",target:"_blank",rel:"noopener noreferrer"}},[e._v("注册申请方法"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("按照文档，注册账号，新建应用，获取 APP_ID, API_KEY, SECRET_KEY。")]),e._v(" "),t("p",[e._v("然后填入"),t("code",[e._v("src\\baiduSpeech.js")]),e._v("中第 7 行的 client 参数。")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("var client = new AipSpeechClient(APP_ID, API_KEY, SECRET_KEY);\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("h4",{attrs:{id:"阿里-ai"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#阿里-ai"}},[e._v("#")]),e._v(" 阿里 AI")]),e._v(" "),t("p",[e._v("https://nls-portal.console.aliyun.com/applist")]),e._v(" "),t("p",[e._v("到阿里云注册，新建智能语音交互项目，开通，获取 Key 和 Secret。到"),t("code",[e._v("speechAli.js")]),e._v("文件中进行替换。")]),e._v(" "),t("h2",{attrs:{id:"_2-准备输入文件和参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-准备输入文件和参数"}},[e._v("#")]),e._v(" 2. 准备输入文件和参数")]),e._v(" "),t("p",[e._v("执行 "),t("code",[e._v("npm i")]),e._v(" 安装依赖。还需要安装 ffmpeg 并配置系统变量 path，至命令行窗口输入 "),t("code",[e._v("ffmpeg")]),e._v(" 能找到程序为止。")]),e._v(" "),t("p",[e._v("复制 templete 目录并粘贴，重命名为如'0225'目录，修改其中的 input/input.txt 为你想要制作的文章。（如示例段落间放一个空行方便分段）。")]),e._v(" "),t("p",[e._v("然后拷贝若干横版 jpg 图片（最好 16:9）放入 0225/pic 目录用于轮播制作视频。"),t("strong",[e._v("也支持从图库中随机抽选")]),e._v("：修改 "),t("code",[e._v("src/init.js")]),e._v(" 中间中的图库地址 "),t("code",[e._v('let picAllSourceFolder = path.resolve("/picall");')]),e._v(" ，将你的图库中绝对路径填入，替换 "),t("code",[e._v("/picall")]),e._v(" （我的代码在 d 盘，图库地址为'D:/picall/')，当然要先清空在项目 0225/pic 文件夹，程序会抽选并拷入。")]),e._v(" "),t("p",[e._v("如需替换背景音乐请重命名并替换 "),t("code",[e._v("input/bgm.mp3")]),e._v("，会根据视频时长循环播放。")]),e._v(" "),t("h3",{attrs:{id:"_3-生成视频"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-生成视频"}},[e._v("#")]),e._v(" 3.生成视频")]),e._v(" "),t("p",[e._v("生成就简单了。修改 index.js 中 "),t("code",[e._v('global.config = initPath("./0226");')]),e._v("中的为你重命名后的目录如'./0225'，然后 "),t("code",[e._v("node index.js")]),e._v("。生成的结果视频为 "),t("code",[e._v("0225/merged/final.mp4")]),e._v("。")]),e._v(" "),t("h2",{attrs:{id:"todo"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#todo"}},[e._v("#")]),e._v(" todo")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("[ ] 美化字幕，最好动画")])]),e._v(" "),t("li",[t("p",[e._v("[x] 字幕超长遮挡")])]),e._v(" "),t("li",[t("p",[e._v("[x] 文章自动断句。")])]),e._v(" "),t("li",[t("p",[e._v("[ ] 文章自动抓取分析。")])]),e._v(" "),t("li",[t("p",[e._v("[x] 多图")])]),e._v(" "),t("li",[t("p",[e._v("[ ] 多图切换和滤镜")])]),e._v(" "),t("li",[t("p",[e._v("[ ] 片头 水印 和片尾")])])]),e._v(" "),t("p",[e._v("用什么方式：")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("将片头图片作为背景图的一张。需要保证图片不循环，同时添加固定一张图片为片头。标题文字用 drawtext 或者是图片通过 svg 叠加生成。语音和字幕增加固定秒数的偏移量。（现在图片结果为 7 秒，做片头太长。）")])]),e._v(" "),t("li",[t("p",[e._v("将图片生成同尺寸视频，然后视频拼接。（图像压制多一次，性能差）。")])])])])}),[],!1,null,null,null);_.default=a.exports}}]);